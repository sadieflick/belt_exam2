<html lang="en">

  <head>
    <title>Authors Home</title>
  
  </head>

  <body *ngIf="product">
    <div id="wrapper">
      <h1>Edit this product</h1>

      <div *ngIf = "errorMessages">
        <p class="error_msg" *ngFor = "let error of objectKeys(errorMessages)">{{errorMessages[error].message}}</p>
      </div>

      <form id="form" (submit)="editSubmit(product_id)">
        
        <div id="labels">
          <h3>Name:</h3> 
          <h3>Qty</h3> 
          <h3>Price</h3>
        </div>

        <div id="attributes">
            <div class="error_msg" *ngIf="!name.valid">
                Name must be at least 3 characters.
              </div>
    
              <input 
                type="text" 
                name="name" 
                [(ngModel)]="productEdits.name"
                #name="ngModel"
                required
                minlength="3"
              /><br>
    
              <div class="error_msg" *ngIf="!qty.valid">
                  Quantity must be greater than 0.
              </div>
              
              <input 
                type="text" 
                name="qty" 
                [(ngModel)]="productEdits.qty"
                required
                min="0"
                #qty="ngModel"
              /><br>
    
              <div class="error_msg" *ngIf="!price.valid">
                  Price must be greater than 0.
              </div>
    
              <input 
                type="text" 
                name="price" 
                [(ngModel)]="productEdits.price"
                required
                min="0"
                #price="ngModel"
              /><br>
        </div>

        <button class= "add_edit_btn" 
          [disabled]="!price.valid || !qty.valid || !name.valid">
          UPDATE
        </button>
      </form>

      <button class="cancel_button" (click) = "redirectHome()">CANCEL</button> 
      <button class="cancel_button" (click) = "reset()">RESET</button> 

    </div>

  </body>